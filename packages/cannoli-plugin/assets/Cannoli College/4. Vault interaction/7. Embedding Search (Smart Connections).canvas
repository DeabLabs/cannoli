{"nodes":[{"id":"6343f06af4ec924a","type":"group","x":-775,"y":-280,"width":1084,"height":1140,"label":"Using Smart Connections to search"},{"id":"b74952d80e6a6d39","type":"group","x":-684,"y":-1313,"width":901,"height":800,"label":"Rendering Smart Connection search"},{"id":"48769029686ff688","type":"text","text":"","x":-664,"y":-913,"width":385,"height":380,"color":"6"},{"id":"d244ad86313a5ef4","type":"text","text":"","x":-201,"y":-913,"width":398,"height":380,"color":"6"},{"id":"46c4ce310ed88cf1","type":"text","text":"Here is a smart connections dynamic codeblock:\n\n```smart-connections\nAyy lmao\n```\nWhat's the most similar note probably about?","x":-641,"y":-1293,"width":339,"height":340},{"id":"6ce747453d1d423f","type":"text","text":"Cannoli can leverage Smart Connections to do embedding search on your vault.\n\nSmart Connections is a popular plugin which, among many other features, can embed your whole vault using a variety of embeddings models. This lets you search for notes or blocks that are semantically similar to a given note or query.\n\nIf you have Smart Connections enabled on this vault, you can write a dynamic code block (triple backticks with \"smart-connections\" following the first set of backticks). Then you can show an LLM the resulting similarity ranking table or embed the most similar X notes.\n\n","x":-540,"y":-1700,"width":615,"height":320},{"id":"38595c66057d2f38","type":"text","text":"Here we've embedded the top 3 results of the similarity search:\n\n{{3\n```smart-connections\nAyy lmao\n```\n#@}}\n\nSummarize the first note","x":-171,"y":-1293,"width":339,"height":340},{"id":"b4ec110ce33df376","type":"text","text":"To include the contents of the top results, wrap the whole code block in curly braces and newlines.\n\nYou can define the number of results to include using an integer after the first set of braces.\n\nYou can also include the modifiers as you would with note reference nodes. This time we included the new \"@\" link modifier to include the markdown link above the note. This will help make cannolis that can browse and search.","x":240,"y":-1266,"width":480,"height":287},{"id":"6e728caab4a543a8","type":"text","text":"What was the metaphor about the earth in that poem about walking?","x":-387,"y":-260,"width":462,"height":80,"color":"6"},{"id":"b4a0c102d3eeac17","type":"text","text":"Embedding search enables lots of cool stuff. You can make open queries about your vault or even have the LLM generate queries where needed, then zero in on the results and inject them as context wherever needed.","x":-572,"y":-440,"width":607,"height":103},{"id":"5db01d3546fde562","type":"text","text":"Which of the notes below fits the search query best?\n\nQuery: \"{{query}}\"\n\n{{4\n```smart-connections\n{{query}}\n```\n@}}","x":-726,"y":-90,"width":339,"height":280},{"id":"5230a36585d39219","type":"text","text":"","x":-112,"y":-137,"width":385,"height":615,"color":"6"},{"id":"44636ef212354a8b","type":"text","text":"Here's a note that resulted from a search:\n\n{{@bestFit}}\n\nUse that note to answer this query: \"{{query}}\"","x":-510,"y":280,"width":241,"height":198},{"id":"79b80456d62de306","type":"text","text":"","x":-678,"y":520,"width":577,"height":300,"color":"6"},{"id":"9f3d2a5adb087657","type":"text","text":"In this cannoli we perform an embedding search on a query, have the LLM select the most relevant note from the top 4, and use that as context to answer the initial query.","x":-1180,"y":17,"width":383,"height":154}],"edges":[{"id":"9c97bc5b033f7912","fromNode":"46c4ce310ed88cf1","fromSide":"bottom","toNode":"48769029686ff688","toSide":"top","color":"2"},{"id":"8488abe3896113e6","fromNode":"5db01d3546fde562","fromSide":"bottom","toNode":"44636ef212354a8b","toSide":"top","label":"[bestFit"},{"id":"e0bd7da21aff0c3d","fromNode":"44636ef212354a8b","fromSide":"right","toNode":"5230a36585d39219","toSide":"left","color":"2"},{"id":"782881c8520b4911","fromNode":"44636ef212354a8b","fromSide":"bottom","toNode":"79b80456d62de306","toSide":"top"},{"id":"8780fbd775315770","fromNode":"38595c66057d2f38","fromSide":"bottom","toNode":"d244ad86313a5ef4","toSide":"top","color":"2"},{"id":"2df29e8ef4d81f5d","fromNode":"6e728caab4a543a8","fromSide":"bottom","toNode":"5db01d3546fde562","toSide":"top","label":"query"},{"id":"73a455ab933fce60","fromNode":"6e728caab4a543a8","fromSide":"bottom","toNode":"44636ef212354a8b","toSide":"top","label":"query"}]}