{"nodes":[{"id":"b0c4a818e82c9a93","type":"group","x":-988,"y":718,"width":1271,"height":1191,"label":"Built-in actions"},{"id":"9c40004c1221b271","type":"group","x":-769,"y":-293,"width":841,"height":911,"label":"HTTP request"},{"id":"9807f6e43d42b056","type":"group","x":-926,"y":-913,"width":1131,"height":545,"label":"Simple GET requests"},{"id":"805230ed376e523a","type":"text","text":"https://api.chucknorris.io/jokes/random","x":-483,"y":-893,"width":375,"height":50,"color":"2"},{"id":"75b1c213e8314a7f","type":"text","text":"","x":-274,"y":-703,"width":459,"height":153,"color":"6"},{"id":"d05cd17ddae7b3ae","type":"text","text":"","x":-906,"y":-707,"width":591,"height":319,"color":"6"},{"type":"text","text":"Orange nodes are action nodes. You can use them to make http calls with content from the cannoli.","id":"60bd8cc6ffcdd82b","x":-460,"y":-1081,"width":291,"height":123},{"id":"cd0306d313c1ba9a","type":"text","text":"You can write a JSON path in an arrow leaving an action node and it will extract that part of the JSON response, if possible","x":-1330,"y":-613,"width":389,"height":104},{"id":"34f1866f7d8ec75d","type":"text","text":"If the content of an action node is just a URL, it will just inject any variables it has and send a GET request to that url, and send along the response","x":-1341,"y":-857,"width":398,"height":121},{"id":"85c53cc8da22cfe8","type":"text","text":"Who's the current king of France?","x":-385,"y":-273,"width":306,"height":50,"color":"6"},{"type":"text","text":"If the content of the action node is a JSON object that looks like this one, with properties for the url, method, headers (optional), and body (optional), it will send the defined HTTP request","id":"d7c2f23ed59d226e","x":-1212,"y":-197,"width":424,"height":151},{"role":"","displayOverride":true,"id":"6e6fbee5bfb165f7","type":"text","text":"```json\n{\n    \"url\": \"https://api.openai.com/v1/chat/completions\",\n    \"method\": \"POST\",\n    \"headers\": {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer {{OPENAI_API_KEY}}\"\n    },\n    \"body\": {\n        \"model\": \"gpt-4o-mini\",\n        \"messages\": [\n            {\n                \"role\": \"user\",\n                \"content\": \"{{prompt}}\"\n            }\n        ]\n    }\n}\n```","x":-513,"y":-133,"width":562,"height":408,"color":"2"},{"role":"","displayOverride":true,"id":"ab7ac45db968d052","type":"text","text":"","x":-459,"y":524,"width":87,"height":61,"color":"6"},{"id":"5d9f1d178f2e07a5","type":"text","text":"","x":-357,"y":394,"width":409,"height":204,"color":"6"},{"id":"a234e7042ff9c857","type":"text","text":"In this example, we inject the prompt and the API key. All of the AI provider API keys can be referenced in this way, along with any secrets you've defined in the settings.","x":-1262,"y":277,"width":481,"height":119},{"id":"31207a01ee6f6fa9","type":"text","text":"guinea pig","x":-547,"y":734,"width":250,"height":60,"color":"6"},{"id":"3a97e7dd58bd7da5","type":"text","text":"disco","x":-274,"y":732,"width":250,"height":60,"color":"6"},{"id":"9928314d4e8f380c","type":"text","text":"[dalle]\nmake a picture of a {{animal}} at a {{event}}","x":-273,"y":864,"width":250,"height":98,"color":"2"},{"id":"cb4c9da73bf91322","type":"text","text":"1024x1792","x":21,"y":766,"width":250,"height":60,"color":"6"},{"id":"e4e8f41b308f5557","type":"text","text":"","x":-968,"y":983,"width":534,"height":504,"color":"6"},{"id":"1e284d74b857ee78","type":"text","text":"make a picture of a frog at a concert","x":-828,"y":738,"width":250,"height":60,"color":"6"},{"id":"439ff93f8f2810fc","type":"text","text":"dalle","x":-826,"y":874,"width":250,"height":60,"color":"2"},{"id":"8b31f6b1680c71c3","type":"text","text":"","x":-415,"y":1011,"width":534,"height":883,"color":"6"},{"id":"40dcbe69778315d8","type":"text","text":"The currently available built-in actions are described in more detail in the \"6. Built-in Actions\" folder of the Cannoli College\n\nWe plan to add a lot more, and if you're running a baked cannoli in code, adding your own custom functions is as simple as making an object with \"name\" and \"function\" properties.","x":-1439,"y":1295,"width":428,"height":239},{"id":"0636a124a5a4a703","type":"text","text":"You can also reference the built-in actions available by simple writing the action name into the node.\n\nThis node will use the built-in \"dalle\" action, which responds with an embedded markdown link with the resulting image.","x":-1419,"y":917,"width":411,"height":201},{"id":"5e5885b41e6028a3","x":80,"y":44,"width":439,"height":115,"type":"text","text":"You can also pre-define http templates like this in the settings, which you can then just reference with their name"},{"id":"ce7a9d23ed54ea75","x":298,"y":934,"width":386,"height":177,"type":"text","text":"If you reference an action like this with the name in square brackets, you can template the first argument of the function.\n\nIn the case of the dalle action, that first argument is the prompt"}],"edges":[{"id":"a9a5933d9ac3b5aa","fromNode":"6e6fbee5bfb165f7","fromSide":"left","toNode":"ab7ac45db968d052","toSide":"left","label":"usage.completion_tokens"},{"id":"66da44c564b82a4c","fromNode":"6e6fbee5bfb165f7","fromSide":"bottom","toNode":"5d9f1d178f2e07a5","toSide":"top","label":"choices[0].message.content"},{"id":"d1553808132c755c","fromNode":"85c53cc8da22cfe8","fromSide":"bottom","toNode":"6e6fbee5bfb165f7","toSide":"top","label":"prompt"},{"id":"ca705e472c4191b2","fromNode":"805230ed376e523a","fromSide":"bottom","toNode":"d05cd17ddae7b3ae","toSide":"top"},{"id":"fc7740241923be0b","fromNode":"805230ed376e523a","fromSide":"bottom","toNode":"75b1c213e8314a7f","toSide":"top","label":"value"},{"id":"c18371e33307587f","fromNode":"1e284d74b857ee78","fromSide":"bottom","toNode":"439ff93f8f2810fc","toSide":"top","label":"prompt"},{"id":"be22a83cc0bbb224","fromNode":"439ff93f8f2810fc","fromSide":"bottom","toNode":"e4e8f41b308f5557","toSide":"top"},{"id":"1d605dcd924a46c8","fromNode":"3a97e7dd58bd7da5","fromSide":"bottom","toNode":"9928314d4e8f380c","toSide":"top"},{"id":"e05cba64d54b762e","fromNode":"31207a01ee6f6fa9","fromSide":"bottom","toNode":"9928314d4e8f380c","toSide":"left","label":"animal"},{"id":"6655ae09a0302e98","fromNode":"cb4c9da73bf91322","fromSide":"bottom","toNode":"9928314d4e8f380c","toSide":"right","label":"size"},{"id":"c2071fd06a179e36","fromNode":"9928314d4e8f380c","fromSide":"bottom","toNode":"8b31f6b1680c71c3","toSide":"top"}]}